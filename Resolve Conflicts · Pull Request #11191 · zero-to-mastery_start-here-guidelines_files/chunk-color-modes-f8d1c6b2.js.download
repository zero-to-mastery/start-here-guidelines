System.register(["./chunk-vendor.js","./chunk-frameworks.js"],(function(e){"use strict";var t,o,r;return{setters:[function(e){t=e.o},function(e){o=e.a0,r=e.M}],execute:function(){function c(e){let t=!0,o="dark";"true"===e.getAttribute("aria-checked")&&(t=!1,o="light"),e.setAttribute("aria-checked",String(t)),n(o);const r=document.querySelector(".js-promo-color-modes-banner-popover");r&&"dark"===o&&setTimeout((()=>{r.removeAttribute("hidden"),setTimeout((()=>r.classList.add("shown")),100)}),3500);const c=document.querySelector(".js-promo-color-modes-banner-profile.isInitialToggle");c&&c.classList.remove("isInitialToggle");const s=document.querySelector(".js-promo-color-modes-form"),d=new FormData(s);d.set("color_mode",o),fetch(s.action,{method:s.method,body:d,headers:{"X-Requested-With":"XMLHttpRequest"}})}function n(e){const t=document.querySelector("html[data-color-mode]");t&&t.setAttribute("data-color-mode",e)}function s(){const e=document.querySelector("html[data-color-mode]");if(!e)return;const t=e.getAttribute("data-color-mode");return"auto"===t?d():t}function d(){return i("dark")?"dark":i("light")?"light":void 0}function i(e){return window.matchMedia&&window.matchMedia(`(prefers-color-scheme: ${e})`).matches}e("g",d),async function(){await o;const e=document.querySelector(".js-promo-color-modes-toggle");if(e&&"auto"===function(){const e=document.querySelector("html[data-color-mode]");if(!e)return;return e.getAttribute("data-color-mode")}()){"dark"===s()&&e.setAttribute("aria-checked","true")}}(),t("submit",".profile-color-modes .js-notice-dismiss",(()=>{const e=document.querySelector(".js-promo-color-modes-banner-popover");e&&e.classList.remove("shown")})),t("click",".js-promo-color-modes-toggle",(e=>{c(e.currentTarget)})),r("keydown",".js-promo-color-modes-toggle",(e=>{if("Space"===e.code||"Enter"===e.code){e.preventDefault();c(e.currentTarget)}})),t("submit",".js-color-mode-keyboard-toggle",(async e=>{e.preventDefault();const t=s();if(!t)return;const o="light"===t?"dark":"light";n(o);const r=e.currentTarget,c=new FormData(r);c.set("color_mode",o),fetch(r.action,{method:r.method,body:c,headers:{"X-Requested-With":"XMLHttpRequest"}})}))}}}));
//# sourceMappingURL=chunk-color-modes-2c4001f0.js.map
